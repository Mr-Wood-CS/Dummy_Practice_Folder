

# Working with Files

## Explanation

In this lesson, we will learn about file handling, which allows our programs to manage large amounts of data efficiently, similar to how real-world systems work.

While it’s useful to create lists, make changes, and add new data, if your program resets every time it runs and your changes are lost, it’s not very practical. That’s why it’s sometimes necessary to save data outside the program, so it can be stored and any changes you make are saved.

In real-world systems that handle huge amounts of data, such as millions of inputs, this data is usually provided to the program through a file. 

File handling is often called sequential file processing because the program reads the data in the same order it appears in the file, and writes it back in a similar sequence. This ensures that data is saved and retrieved in an organized and efficient way.

The easiest way to start learning about saving and loading data is by using a text file. 

### **Read, Write, Append (A Whole File)**

??? info "Write Mode"

	:   __"w" (write Mode)__ creates a new file and writes to that file. If the file already exists, a new file will be created, overwriting the existing file.

	:	Before using a file in a program, it must first be opened. To do this you must first link the file to an object by assigning it a reference name:
		
	```Python linenums="1"
		# Open the School-Reg file in 'read mode'. 
		file = open("School-Reg.txt", "w")


		file.write("Name: Peter, Age: 17, Reg: R1 \n")
		file.write("Name: Laura, Age: 17, Reg: R1 \n")

		# Close files once the program has finished using it.
		file.close()
	```

	!!! question "Task"

		1 - Create a new file in VS Code called `Write-Read-Append.py`

		2 - Copy the above code into your new file and `run` the program.

??? info "Read Mode"

	:   __"r" (Read Mode)__ opens for reading and will not allow you to make changes.

	:	Use the `open()` function to open the file in 'read mode'. This is done by passing the filename and the mode `'r'` to the function.
		
	```Python linenums="1"
		# Open the School-Reg file in 'read mode'. 
		file = open("School-Reg.txt", "r")
		
		# Display the entire file.
		print(file.read())
		
		# Close files once the program has finished using it.
		file.close()
	```
	!!! question "Task"

		1 - Add the code above to the ==bottom== of your `Write-Read-Append.py` file and run the program.
		

??? info "Append Mode"

	:   __"a" (Append Mode)__ used to add new data to the end of the file.

	:	Use the `append()` function to open the file in 'append mode'. This is done by passing the filename and the mode `'a'` to the function.

	:	Append will add a new entry to your .txt file at the end of the file

	```Python
		# Open the School-Reg file in 'append mode'
		file = open("School-Reg.txt", "a")
		
		# Add another line to the file
		file.write("Name: Karl, Age: 16, Reg: R1 \n")
		
		# Close file once the program has finished using it. 
		# Note: if the file.close() line is not included, the changes will not be saved to the txt file.
		file.close()
	```

	!!! question "Task"

		1 - Add the code above to the ==bottom== of your `Write-Read-Append.py` file and run the program.

??? question "Task - Find the Highest Score"

	:	A small gaming competition records each player’s score in a text file called scores.txt.

	:	The organiser wants a program that reads in all the scores and finds the highest score achieved.

	:	The program should then display this result clearly to the screen so that the winner can be announced.

	### Pseudocode

	==**Top Level Design**==


	:	1 - Read scores from a text file. 

	:	**OUT: score1, score2, score3**

	:	2 - Find the highest score. 

	:	**IN: score1, score2, score3**

	:	**OUT: highestScore**

	:	3 - Display the highest score.

	:	**IN: highestScore**

	***

	==**Refinements**==

	:	1.1  open file "scores.txt" for reading

	:	1.2  read score1 from file

	:	1.3  read score2 from file

	:	1.4  read score3 from file

	:	1.5  close file

	***

	:	2.1  if score1 > score2 and score1 > score3 then

	:	2.2      highest = score1

	:	2.3  else if score2 > score1 and score2 > score3 then

	:	2.4      highest = score2

	:	2.5  else

	:	2.6      highest = score3

	:	2.7  end if
	
	***

	:	3.1  display "The highest score is", highest

	==**Resources**==

	??? information "Starter Code"
		```python linenums="1"
		def read_Scores():


		def find_highest():


		def show_highest():
		```
	??? information "txt File"

		```txt linenums="1"
		55
		72
		64
		```

### **Read a File Line by Line**